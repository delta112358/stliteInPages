<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>stlite Test</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.55.0/build/stlite.css"
  >
</head>
<body>
  <div id="root"></div>
  <script src="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.55.0/build/stlite.js"></script>
  <script type="text/python">
import streamlit as st
from streamlit_local_storage import LocalStorage

localS = LocalStorage()
STORAGE_KEY = "test-key"

# 1. Set Value
item_value = st.text_input("Value to save:")
if st.button("Save"):
    localS.setItem(STORAGE_KEY, item_value)
    st.rerun()

# 2. Get Value
retrieved_value = localS.getItem(STORAGE_KEY)
if retrieved_value:
    st.write(f"Value in storage: {retrieved_value}")
else:
    st.write("No value in storage.")

  </script>
  <script>
    stlite.mount(
      {
        requirements: ["streamlit-local-storage"],
        entrypoint: "streamlit_app.py",
        files: {
          "streamlit_app.py": document.querySelector('script[type="text/python"]').textContent,
        },
      },
      document.getElementById("root")
    );
  </script>
</body>
</html>


